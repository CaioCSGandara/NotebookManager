DROP TABLE IF EXISTS RESERVA;
DROP TABLE IF EXISTS ALUNO;
DROP TABLE IF EXISTS NOTEBOOK;


CREATE TABLE ALUNO (
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR(30) NOT NULL,
    RA VARCHAR(8) UNIQUE NOT NULL,
    EMAIL VARCHAR(50) UNIQUE NOT NULL,
    TELEFONE VARCHAR(14) NOT NULL,
    CURSO VARCHAR(35) NOT NULL
);

CREATE TABLE FUNCIONARIO(
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR(30) NOT NULL,
    RF VARCHAR(8) UNIQUE NOT NULL,
    EMAIL VARCHAR(50) UNIQUE NOT NULL,
    SENHA VARCHAR(15) NOT NULL
);

CREATE TABLE NOTEBOOK (
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    PATRIMONIO VARCHAR(8) UNIQUE NOT NULL,
    STATUS VARCHAR(15) NOT NULL
);

CREATE TABLE RESERVA (
     ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
     INICIO_EM TIMESTAMP NOT NULL,
     TERMINO_EM TIMESTAMP,
     ALUNO INTEGER NOT NULL,
     NOTEBOOK INTEGER NOT NULL,
     CONSTRAINT fk_aluno
         FOREIGN KEY (ALUNO)
             REFERENCES ALUNO(ID),
     CONSTRAINT fk_notebook
         FOREIGN KEY (NOTEBOOK)
             REFERENCES NOTEBOOK(ID)
);

